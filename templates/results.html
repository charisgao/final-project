<!DOCTYPE html>
<html>

<head>
    <title>Results</title>
    <link rel="stylesheet" type="text/css" href="static/css/style.css?q={{ time }}" />
    <style>
        #map {
            margin-left: 20%;
            height: 500px;
            width: 50%;
        }
    </style>
</head>

<body>
    <h1>Data!</h1>
    <h2>Restaurants</h2>
    <ul>
        {% for biz in restaurants %}
        <li>{{ biz["name"] }}</li>
        {% endfor %}
    </ul>
    <h2>Hotels</h2>
    <ul>
        {% for biz in hotels %}
        <li>{{ biz["name"] }}</li>
        {% endfor %}
    </ul>
    <h2>Things To Do</h2>
    <ul>
        {% for biz in thingstodo %}
        <li>{{ biz["name"] }}</li>
        {% endfor %}
    </ul>
    <div id="map">
    </div>

    <script>
        function initMap(){
            let restaurants = JSON.parse('{{ restaurants | tojson }}');
            var location = {lat : restaurants[0]["coordinates"]["latitude"], lng : restaurants[0]["coordinates"]["longitude"]};
            var map = new google.maps.Map(document.getElementById("map"), {
                zoom: 12, 
                center: location
            });
            var marker = new google.maps.Marker({
                position: location,
                map: map
            });
        }
        
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key={{ google_key }}&callback=initMap">
    </script>
</body>

</html>